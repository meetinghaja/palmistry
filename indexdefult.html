<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<title>Hello, world!</title>
	<link rel="stylesheet" href="style.css">
	<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ea9ca075d728860"></script>

</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light nav-distance">
		<a class="navbar-brand" href="#">손금보기</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active">
					<a class="nav-link" href="#">Home
						<span class="sr-only">(current)</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Link</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Dropdown
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown">
						<a class="dropdown-item" href="#">Action</a>
						<a class="dropdown-item" href="#">Another action</a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" href="#">Something else here</a>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
				</li>
			</ul>
			<form class="form-inline my-2 my-lg-0">
				<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			</form>
		</div>
	</nav>
	<section class="section">
		<h1 class="title">인공지능 손금 테스트</h1>
		<h2 class="subtitle">운명선 나는 어떻게 성공할수있을까?</h2>
	</section>
	<section class="youtube">
		<div class="mt-10 youtube-cover d-flex flex-row-reverse">
			<img src="img/youtubeimg.gif" alt="" class="youtube-icon">
			<a href="" class="youtube-link">더 많은 손금정보 보기</a>
		</div>
	</section>
	<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<div class="file-upload">

		<div class="image-upload-wrap">
			<input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
			<div class="drag-text">
				<img src="img/bar.png" class="upload">
				<h3 class="upload-text">오른쪽 손바닥 사진을 올려놓거나 놀러서 업로드 하세요!</h3>
			</div>
		</div>
		<div class="file-upload-content">
			<img class="file-upload-image" id="hand-image" src="#" alt="your image" />

			<!-- 여기부터 추가  95줄 -->
			<div id="loading" class="animated bounce">
				<div class="spinner-botder" role="status">
					<span class="sr-only">Loading...</span>
				</div>
				<p class="text-center">AI가 당신의 손금을 분석하고 있습니다.</p>
			</div>
			<p class="result-message"></p>
			<div id="label-container" class="d-flex flex-column justify-content-around"></div>
			 <div id="addThis" class="addthis_inline_share_toolbox_6lz1"></div>
			<div class="pt-3 image-title-wrap">
                <button type="button p-2" class="try-again-btn" onclick="gaReload1();" data-toggle="modal" data-target="#adModal">
                    <span class="try-again-text">다른 사진으로 재시도</span>
                </button>
            		</div>		
       				</button>
			</div>
		</div>
	</div>
	<div id="label-container"></div>
	<div id="disqus_thread"></div>
	<script>
		/**
		 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
		 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
		/*
		var disqus_config = function () {
		this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
		this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
		};
		*/
		(function() { // DON'T EDIT BELOW THIS LINE
			var d = document,
				s = d.createElement('script');
			s.src = 'https://mon0127.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	<noscript>Please enable JavaScript to view the
		<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
	</noscript>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script>
	function readURL(input) {
		if (input.files && input.files[0]) {
			var reader = new FileReader();
			reader.onload = function(e) {
				$('.image-upload-wrap').hide();
				$('#loading').show();
				$('.file-upload-image').attr('src', e.target.result);
				$('.file-upload-content').show();
				$('.image-title').html(input.files[0].name);
			};
			reader.readAsDataURL(input.files[0]);
				init().then(function(){
					console.log("hello")
					predict();
					$('#loading').hide();
				});
			
			
		} else {
			removeUpload();
		}
	}

	function removeUpload() {
		$('.file-upload-input').replaceWith($('.file-upload-input').clone());
		$('.file-upload-content').hide();
		$('.image-upload-wrap').show();
	}
	$('.image-upload-wrap').bind('dragover', function() {
		$('.image-upload-wrap').addClass('image-dropping');
	});
	$('.image-upload-wrap').bind('dragleave', function() {
		$('.image-upload-wrap').removeClass('image-dropping');
	});
</script>
<script type="text/javascript">
	// More API functions here:
	// https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image
	// the link to your model provided by Teachable Machine export panel
	const URL = "https://teachablemachine.withgoogle.com/models/ktpX30kwK/";
	let model, webcam, labelContainer, maxPredictions;
	// Load the image model and setup the webcam
	async function init() {
		const modelURL = URL + "model.json";
		const metadataURL = URL + "metadata.json";
		// load the model and metadata
		// Refer to tmImage.loadFromFiles() in the API to support files from a file picker
		// or files from your local hard drive
		// Note: the pose library adds "tmImage" object to your window (window.tmImage)
		model = await tmImage.load(modelURL, metadataURL);
		maxPredictions = model.getTotalClasses();
		labelContainer = document.getElementById("label-container");
		for (let i = 0; i < maxPredictions; i++) { // and class labels
			labelContainer.appendChild(document.createElement("div"));
		}
	}
	// run the webcam image through the image model
	async function predict() {
		// predict can take in an image, video or canvas html element
		var image = document.getElementById("hand-image")
		const prediction = await model.predict(image, false);
		prediction.sort((a,b) => parseFloat(b.probability) - parseFloat(a.probability));
		console.log(prediction[0].className);
		var resultTitle, resultExplain, resultCeleb;
		switch(prediction[0].className){
		//능력선
			case "AA":
                        resultTitle = "완벽한 밸런스로 부자가 되는 손금"
                        resultExplain = "M자 손금은 사실 특이한 손금이라기보다는 손금의 4대 주요선인 감정선, 지능선, 생명선, 운명선이 모두 균형 있게 진할 때 생기는 모양입니다.. 심신이 건강한 상태를 나타내니 무엇을 하든 잘 된답니다. 이 손금이 있다면 절호의 타이밍을 잡아 성공의 발판으로 삼아보세요."
                        resultCeleb = "균형을 이루는 M자 손금인 경우"
                        break;
                    case "BB":
                        resultTitle = "경쟁을 통해 부자가 되는 손금"
                        resultExplain = "운명선은 성취에 대한 욕구가 강한 사람이 가지는 선이에요. 경쟁과 실적에 대한 압박은 스트레스가 되지만, 이 선이 있는 사람은 이러한 압박을 즐길 줄 알아요. 특히 승리했을 때 큰 희열을 느낄 거예요. 게임에서 이겨서 점수를 따듯 돈을 번다면 부자가 될 수 있는 손금이에요."
                        resultCeleb = "경쟁을 통해 부자가 되는 손금"
                        
                        break;
                        
                    case "CC":
                        resultTitle = "대인관계와 인맥으로 부자가 되는 손금"
                        resultExplain = "태양선은 대인관계에서 능력이 뛰어난 사람이 가지고 있는 선이에요. 이 선이 있는 사람은 외향적이며 다른 사람을 수용하는 능력과 분위기를 주도하는 능력이 뛰어나지요. 이 선이 있다면 인연을 소중히 여기면 좋겠어요. 인맥을 통해 돈이 자연히 따라올 거예요!"
                        resultCeleb = "약지에서 내려오는 태양선이 있는 경우"
                       
                        break;
                        
                    case "DD":
                        resultTitle = "털털 그자체!!"
                        resultExplain = "뒤끝 없고 시원시원한 성격입니다. 끝난 일은 뒤도 돌아보지 않는 타입으로 렛잇고 정신을 실천하고 있군요. 다만 너무 담백한 성격으로 주변에서 조금 섭섭하게 생각할수 있습니다.."
                        resultCeleb = "꺠끗하고 진한 감정선: 강동원 ,강민경 ,강소라 ,김수현.. "
                        
                        break;
                        
                    case "EE":
                        resultTitle = "까칠하지만 인기쟁이!"
                        resultExplain = "감정 기복이 심하고 자신도 이해하기 어려울 만큼 같은 상황에서도 다른 감정이 느껴져 혼란 스러울수 있습니다. 하지만 이러한 성격을 장점으로 살리면 상황에 맞추어 자신의 감정을 긍정적인 방향으로 바꿀수 있는 유연함을 가지게 된답니다!"
                        resultCeleb = "양쪽으로 갈라지거나 평행 하게 두 줄이 있는 감정선: 유아인, 김희철, 조진웅, 이효리..."
                       
                        break;
                        
                    case "FF":
                        resultTitle = "당첨!ㅋㅋ!"
                        resultExplain = "짜잔! 당첨! 뒤끝이 있는 손금이랍니다. 혹시 지금도 지난 일을 잊지 못하고 흑역사 재방송 하고 계시진 않나요?훌훌 털어버릴수 있는 여유를 가지세요. 잔정 또한 많은 성격으로, 보이는 것보다 휠씬 주변을 신경 쓰고 있으나 티 내려고 하지 않아 츤데레가 되기도?!!"
                        resultCeleb = "여러선으로 풀어져있거나 겹쳐져 있는선: 이서진, 한지민, 최우식, 정석원..."
                        
                        break; 
                     case "GG":
                        resultTitle = "가는 잔 선들로 이루어진 생명선"
                        resultExplain = "당신이 바로 유행의 리더...!사시사철 유행하는 모든 감기와 잔병이 그냥 넘어가는 일이 없군요.... ㅠㅠ 몸이 예민하기 때문에 늘 자신의 몸상태를 체크하고 신경 써주는야 합니다."
                        resultCeleb = "가는 잔 선들로 이루어진 생명선(이미지 연예인): 한예슬, 윤아, 박보검, 정유미, 최강창민..."
                        
                        break;
                    case "HH":
                        resultTitle = "다른 선이 생명선을 가로막고 끊어내는 모양"
                        resultExplain = "아이코 꽈당~! 여기저기 부딪히고 자꾸 다치는 당신 ㅠㅠ 엄지발가락.... 괜찮은가요? 사고가 많은 손금이니 조금 더 주변을 살피고 신중하게 행동하는 것이 좋답니다."
                        resultCeleb = "다른 선이 생명선을 가로막고 끊어내는 모양(이미지 연예인) : 유병재, 아이유, 최지우, 김동완..."
                        
                        break;
                    case "II":
                        resultTitle = "두 줄로 가는 생명선"
                        resultExplain = "당신은 체력왕! 무얼 해도 지치지 않는 체력으로 남들이 다 감기에 걸려도 혼자만 멀쩡한 것은 물론, 신이 나면 2차 3차 마구마구 달려서 주변에서 따라가기 벅차하기도.. 스테미너 왕!!"
                        resultCeleb = "두 줄로 가는 생명선(이미지 연예인): 잭슨, 장혁, 이유리, 김종국, 소유..."
                        
                        break;
                    case "JJ":
                        resultTitle = "진하고 굵게 뻗어있는 생명선"
                        resultExplain = "크~천수를 다한다는 것은 바로 이런것이겠네요. 타고난 건강부터 매우 좋은 손금이랍니다."
                        resultCeleb = "진하고 굵게 뻗어있는 생명선(이미지 연예인): 강호동, 송준기, 송혜교, 김사랑, 원빈..."
                        
                        break;
                    case "KK":
                        resultTitle = "수직으로 곧게 뻗어나가는 운명선"
                        resultExplain = "굳세고 뚝심 있는 사람으로 스스로 힘으로 성공을 움켜쥘수 있는 자수성가 형입니다. 조금 고독한 길이 되긴 하겠지만 자신만의 사업을 하면 성공할수 있는 손금이랍니다! 동업을 하더라도 자신이 주관하여 하는것이 좋고, 얻어 가는 횡재수가 약한편이니 잘모르는 곳에 돈만 투자하는 등의 방식은 좋지 못합니다."
                        resultCeleb = "수직으로 곧게 뻗어나가는 운명선(이미지 연예인): 정지훈(비), 권상우, 이효리, 장윤정, 정우성..."
                        
                        break;
                    case "LL":
                        resultTitle = "약지의 뿌리 부분에서 시작하는 운명선"
                        resultExplain = "약지의 뿌리 부분에서 살짝 휘어져 시작하는 운명선을 가진 당신은 제3의 도움이나 새로운 만남에서 성공의 기회를 잡을 수 있네요. 마음을 열고 다양한 사람을 만나는 것이 성공의 열쇠가 될수있답니다.모임을 나가 보거나 동아리에 가입하거나 하는 활동들도 도움이 될수 있고 영업이나 서비스 직과 같은 사람을 자주 만나는 직업도 좋답니다."
                        resultCeleb = "약지의 뿌리 부분에서 시작하는 운명선(이미지 연예인): 유재석, 소미, 재경, 지코..."
                        
                        break;
                    case "MM":
                        resultTitle = "엄지손가락 뿌리에서 시작하는 운명선"
                        resultExplain = "엄지손가락 뿌리 부분에서 시작하는 운명선을 가진 사람은 가족이나 지인 등, 자신과 아주 가까운 사람들에게서 도움을 받아 성공하는 운명을 가지고 있답니다. 가까워질수록 소흘하게 되기도 하는것이 사람 마음이지만 더 사려 깊게 주변을 돌보아 주시는 것이 성공의 지름길이 될수 있어요. 부모님이나 형제자메, 절친 등에게 더욱 신경써 보세요~! 성공의 문이 가까운 워 질겁니다.."
                        resultCeleb = "엄지손가락 뿌리에서 시작하는 운명선(이미지 연예인): 이서진, 신주아, 최시원..."
                       
                        break;
                    case "NN":
                        resultTitle = "수평한 지능선"
                        resultExplain = "생명선 시작 부분에서 수평 방향으로 뻗어 있는 지능선을 가지고 있는 사람은 논리적인 사고 체계를 지닌 사람이에요. 옳고 그름과 같이 분명한 것에 흥미를 보이는 편이지요. 그런 만큼 원인과 결과가 명확한 학문에 강하지만, 주관적이고 변화하는 문제에는 쉽게 당황하기도 한답니다. 미리 기초를 탄탄히 다져둔다면 이러한 약점을 극복할 수 있어요. 벼락치기는 금물!"
                        resultCeleb = "수평한 지능선(이미지 연예인): 보아, 정윤호, 지성, 오승아..."
                        
                        break;
                    case "OO":
                        resultTitle = "아래로 하향하는 지능선"
                        resultExplain = "지능선이 손목을 향해 꺾어지는 사람은 시각적인 면이 뛰어나며 감수성이 풍부해요. 좋아하는 분야에는 특유의 유연한 사고를 발휘해 어려운 부분도 쉽게 이해하지요. 반면 싫어하는 분야는 죽어도 못 하는 성격이랍니다. 원치 않는 공부를 억지로 해야 한다면 공부 외적인 부분에 정을 붙여 보세요. 귀여운 필기구를 사거나 좋아하는 선생님의 강의를 들어 보면 어떨까요?"
                        resultCeleb = "아래로 하향하는 지능선(이미지 연예인): 김건모, 수애, 여진구..."
                        
                        break;
                    case "PP":
                        resultTitle = "양갈래로 갈라지는 지능선"
                        resultExplain = "지능선이 Y자 형태로 양 갈래로 갈라져 있다면? 다방면에 흥미와 재능이 있는 다재다능한 사람이라는 뜻이에요. 가진 재주가 많은 만큼 하나에 집중하지 못하고 산만할 가능성이 커서 이 부분을 주의해야 한답니다. 한 가지 공부에만 오래 몰두하다 보면 싫증을 느끼고 금세 포기해 버려요. 이럴 때는 몇 가지 공부를 한꺼번에 하는 것이 오히려 도움이 될 테니 참고하세요!"
                        resultCeleb = "양갈래로 갈라지는 지능선(이미지 연예인): G드래곤, 이승기, 유이, 강민경..."

                        break;
                    case "QQ":
                        resultTitle = "완만한 곡선의 지능선"
                        resultExplain = "완만한 곡선으로 내려가는 지능선은 평범하고 무난한 성향을 지녔음을 알려줘요. 남들 놀 때 놀고 공부할 때 공부하며, 공부하는 만큼 성적이 나오는 평범한 사람이지요. 하지만 특별히 공부를 하기 힘든 성향도 아니고, 집중력이 약하지도 않으니 남들보다 조금만 더 노력하면 좋은 성과를 얻을 수 있어요. 요행을 바랄 시간에 그만큼 노력해서 당신의 꿈을 이루세요!"
                        resultCeleb = "완만한 곡선의 지능선(이미지 연예인): 고아라, 유리, 공유, 박신양..."
                        break;
                    default:
                        resultTitle = "알수없음"
                        resultExplain = ""
                        resultCeleb = ""
		}
		$('.result-message').html(resultTitle);
        $('.result-message').html(resultExplain);
        $('.result-message').html(resultCeleb);
		
		for (let i = 0; i < maxPredictions; i++) {
			const classPrediction =
				prediction[i].className + ": " + prediction[i].probability.toFixed(2);
			labelContainer.childNodes[i].innerHTML = classPrediction;
		}
	}
    </script>
<script>
        function iosApp() {
            document.getElementById("coupang").style.display="none";
            $("#coupang ins").hide();
            document.getElementById("addThis").style.display="none";
            document.getElementById("disqus_thread").style.display="none";
            var kakao = document.getElementsByClassName("kakao_ad_area");
            for (var i = 0; i < kakao.length; i++) {
              if(kakao[i]) {
                  kakao[i].style.display="none";
              }
            }
            document.getElementById("yotube-top-link").style.display="none";
            document.getElementById("yotube-mid-link").style.display="none";
            document.getElementById("yotube-bottom-link").style.display="none";
        }
    </script>
</body>
<!-- Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--!> 

</html>